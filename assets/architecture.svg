<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 960 620" font-family="'Segoe UI',system-ui,sans-serif">
  <defs>
    <linearGradient id="bg" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#0a0e17"/>
      <stop offset="100%" stop-color="#111827"/>
    </linearGradient>
    <linearGradient id="gold" x1="0" y1="0" x2="1" y2="0">
      <stop offset="0%" stop-color="#F0B90B"/>
      <stop offset="100%" stop-color="#F8D12F"/>
    </linearGradient>
    <linearGradient id="blue" x1="0" y1="0" x2="1" y2="0">
      <stop offset="0%" stop-color="#3B82F6"/>
      <stop offset="100%" stop-color="#60A5FA"/>
    </linearGradient>
    <linearGradient id="green" x1="0" y1="0" x2="1" y2="0">
      <stop offset="0%" stop-color="#10B981"/>
      <stop offset="100%" stop-color="#34D399"/>
    </linearGradient>
    <linearGradient id="purple" x1="0" y1="0" x2="1" y2="0">
      <stop offset="0%" stop-color="#8B5CF6"/>
      <stop offset="100%" stop-color="#A78BFA"/>
    </linearGradient>
    <filter id="glow">
      <feGaussianBlur stdDeviation="2" result="blur"/>
      <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="960" height="620" fill="url(#bg)" rx="16"/>

  <!-- Title -->
  <text x="480" y="40" text-anchor="middle" fill="url(#gold)" font-size="22" font-weight="700" filter="url(#glow)">ZeroRequiem  Architecture &amp; Workflow</text>

  <!-- ==================== ROW 1: User Layer ==================== -->
  <text x="32" y="78" fill="#9CA3AF" font-size="11" font-weight="600" letter-spacing="1.5">USER LAYER</text>

  <!-- Sender -->
  <rect x="40" y="90" width="200" height="80" rx="12" fill="#1a1f2e" stroke="#F0B90B" stroke-width="1.5" opacity="0.95"/>
  <text x="140" y="118" text-anchor="middle" fill="#F0B90B" font-size="14" font-weight="700">Sender</text>
  <text x="140" y="138" text-anchor="middle" fill="#9CA3AF" font-size="11">Any wallet / dApp</text>
  <text x="140" y="155" text-anchor="middle" fill="#6B7280" font-size="10">Deposits BNB + ephemeral key</text>

  <!-- Recipient -->
  <rect x="720" y="90" width="200" height="80" rx="12" fill="#1a1f2e" stroke="#F0B90B" stroke-width="1.5" opacity="0.95"/>
  <text x="820" y="118" text-anchor="middle" fill="#F0B90B" font-size="14" font-weight="700">Recipient</text>
  <text x="820" y="138" text-anchor="middle" fill="#9CA3AF" font-size="11">Registered stealth keys</text>
  <text x="820" y="155" text-anchor="middle" fill="#6B7280" font-size="10">Scans, derives key, withdraws</text>

  <!-- ==================== ROW 2: Smart Contracts ==================== -->
  <text x="32" y="208" fill="#9CA3AF" font-size="11" font-weight="600" letter-spacing="1.5">ON-CHAIN (BSC TESTNET)</text>

  <!-- StealthKeyRegistry -->
  <rect x="40" y="220" width="170" height="90" rx="10" fill="#1a1f2e" stroke="#3B82F6" stroke-width="1.5"/>
  <text x="125" y="248" text-anchor="middle" fill="#60A5FA" font-size="12" font-weight="700">StealthKey</text>
  <text x="125" y="265" text-anchor="middle" fill="#60A5FA" font-size="12" font-weight="700">Registry</text>
  <text x="125" y="285" text-anchor="middle" fill="#6B7280" font-size="10">Spending + viewing</text>
  <text x="125" y="298" text-anchor="middle" fill="#6B7280" font-size="10">public keys</text>

  <!-- PrivacyVault -->
  <rect x="240" y="220" width="170" height="90" rx="10" fill="#1a1f2e" stroke="#3B82F6" stroke-width="1.5"/>
  <text x="325" y="248" text-anchor="middle" fill="#60A5FA" font-size="12" font-weight="700">Privacy Vault</text>
  <text x="325" y="270" text-anchor="middle" fill="#6B7280" font-size="10">Shared BNB deposit pool</text>
  <text x="325" y="285" text-anchor="middle" fill="#6B7280" font-size="10">Emits Announcement</text>
  <text x="325" y="298" text-anchor="middle" fill="#6B7280" font-size="10">events (pkx + cipher)</text>

  <!-- SimpleAccount -->
  <rect x="550" y="220" width="170" height="90" rx="10" fill="#1a1f2e" stroke="#3B82F6" stroke-width="1.5"/>
  <text x="635" y="248" text-anchor="middle" fill="#60A5FA" font-size="12" font-weight="700">SimpleAccount</text>
  <text x="635" y="265" text-anchor="middle" fill="#60A5FA" font-size="12" font-weight="700">Factory</text>
  <text x="635" y="285" text-anchor="middle" fill="#6B7280" font-size="10">Creates ERC-4337</text>
  <text x="635" y="298" text-anchor="middle" fill="#6B7280" font-size="10">smart wallets</text>

  <!-- EntryPoint + Paymaster -->
  <rect x="750" y="220" width="170" height="90" rx="10" fill="#1a1f2e" stroke="#3B82F6" stroke-width="1.5"/>
  <text x="835" y="248" text-anchor="middle" fill="#60A5FA" font-size="12" font-weight="700">EntryPoint v0.6</text>
  <text x="835" y="265" text-anchor="middle" fill="#60A5FA" font-size="12" font-weight="700">+ Paymaster</text>
  <text x="835" y="285" text-anchor="middle" fill="#6B7280" font-size="10">Validates UserOps</text>
  <text x="835" y="298" text-anchor="middle" fill="#6B7280" font-size="10">Sponsors gas fees</text>

  <!-- ==================== ROW 3: Off-chain ==================== -->
  <text x="32" y="348" fill="#9CA3AF" font-size="11" font-weight="600" letter-spacing="1.5">OFF-CHAIN</text>

  <!-- Relayer/Bundler -->
  <rect x="240" y="360" width="200" height="90" rx="10" fill="#1a1f2e" stroke="#10B981" stroke-width="1.5"/>
  <text x="340" y="388" text-anchor="middle" fill="#34D399" font-size="12" font-weight="700">Relayer / Bundler</text>
  <text x="340" y="410" text-anchor="middle" fill="#6B7280" font-size="10">Express.js API server</text>
  <text x="340" y="425" text-anchor="middle" fill="#6B7280" font-size="10">Signs Paymaster sponsorship</text>
  <text x="340" y="440" text-anchor="middle" fill="#6B7280" font-size="10">Submits UserOps to EntryPoint</text>

  <!-- SDK -->
  <rect x="520" y="360" width="200" height="90" rx="10" fill="#1a1f2e" stroke="#8B5CF6" stroke-width="1.5"/>
  <text x="620" y="388" text-anchor="middle" fill="#A78BFA" font-size="12" font-weight="700">ZeroRequiem SDK</text>
  <text x="620" y="410" text-anchor="middle" fill="#6B7280" font-size="10">ECDH stealth address math</text>
  <text x="620" y="425" text-anchor="middle" fill="#6B7280" font-size="10">UserOp builder + signer</text>
  <text x="620" y="440" text-anchor="middle" fill="#6B7280" font-size="10">npm: zerorequiem-sdk</text>

  <!-- Frontend -->
  <rect x="40" y="360" width="170" height="90" rx="10" fill="#1a1f2e" stroke="#8B5CF6" stroke-width="1.5"/>
  <text x="125" y="388" text-anchor="middle" fill="#A78BFA" font-size="12" font-weight="700">React Frontend</text>
  <text x="125" y="410" text-anchor="middle" fill="#6B7280" font-size="10">Dashboard + Wallet UI</text>
  <text x="125" y="425" text-anchor="middle" fill="#6B7280" font-size="10">Send / Receive / Withdraw</text>
  <text x="125" y="440" text-anchor="middle" fill="#6B7280" font-size="10">SDK Docs</text>

  <!-- ==================== FLOW ARROWS ==================== -->
  <!-- Sender -> Vault (deposit) -->
  <line x1="140" y1="170" x2="140" y2="195" stroke="#F0B90B" stroke-width="1.2" stroke-dasharray="4,3"/>
  <line x1="140" y1="195" x2="325" y2="195" stroke="#F0B90B" stroke-width="1.2" stroke-dasharray="4,3"/>
  <line x1="325" y1="195" x2="325" y2="220" stroke="#F0B90B" stroke-width="1.2"/>
  <polygon points="325,220 320,212 330,212" fill="#F0B90B"/>
  <rect x="168" y="183" width="128" height="18" rx="4" fill="#1a1f2e"/>
  <text x="232" y="196" text-anchor="middle" fill="#F0B90B" font-size="9" font-weight="600">1. Deposit BNB</text>

  <!-- Vault -> Announcement -> Recipient scan -->
  <line x1="410" y1="265" x2="480" y2="265" stroke="#60A5FA" stroke-width="1.2" stroke-dasharray="4,3"/>
  <line x1="480" y1="265" x2="480" y2="130" stroke="#60A5FA" stroke-width="1.2" stroke-dasharray="4,3"/>
  <line x1="480" y1="130" x2="720" y2="130" stroke="#60A5FA" stroke-width="1.2"/>
  <polygon points="720,130 712,125 712,135" fill="#60A5FA"/>
  <rect x="540" y="118" width="148" height="18" rx="4" fill="#1a1f2e"/>
  <text x="614" y="131" text-anchor="middle" fill="#60A5FA" font-size="9" font-weight="600">2. Scan announcements</text>

  <!-- Recipient -> Relayer (withdraw request) -->
  <line x1="820" y1="170" x2="820" y2="340" stroke="#34D399" stroke-width="1.2" stroke-dasharray="4,3"/>
  <line x1="820" y1="340" x2="440" y2="340" stroke="#34D399" stroke-width="1.2" stroke-dasharray="4,3"/>
  <line x1="440" y1="340" x2="440" y2="360" stroke="#34D399" stroke-width="1.2"/>
  <polygon points="440,360 435,352 445,352" fill="#34D399"/>
  <rect x="540" y="328" width="188" height="18" rx="4" fill="#1a1f2e"/>
  <text x="634" y="341" text-anchor="middle" fill="#34D399" font-size="9" font-weight="600">3. Submit UserOp (gasless)</text>

  <!-- Relayer -> EntryPoint (submit) -->
  <line x1="340" y1="360" x2="340" y2="340" stroke="#10B981" stroke-width="1.2" stroke-dasharray="4,3"/>
  <line x1="340" y1="340" x2="835" y2="340" stroke="#10B981" stroke-width="1" opacity="0.3"/>
  <line x1="835" y1="340" x2="835" y2="310" stroke="#10B981" stroke-width="1.2"/>
  <polygon points="835,310 830,318 840,318" fill="#10B981"/>
  <rect x="460" y="328" width="74" height="18" rx="4" fill="#1a1f2e"/>
  <text x="497" y="341" text-anchor="middle" fill="#10B981" font-size="9" font-weight="600">4. Relay</text>

  <!-- SDK connects to Relayer -->
  <line x1="520" y1="405" x2="440" y2="405" stroke="#A78BFA" stroke-width="1" stroke-dasharray="3,3" opacity="0.6"/>

  <!-- Frontend connects to SDK -->
  <line x1="210" y1="405" x2="520" y2="405" stroke="#A78BFA" stroke-width="1" stroke-dasharray="3,3" opacity="0.3"/>

  <!-- ==================== WORKFLOW SECTION ==================== -->
  <text x="32" y="490" fill="#9CA3AF" font-size="11" font-weight="600" letter-spacing="1.5">WORKFLOW</text>

  <!-- Step boxes -->
  <rect x="40" y="505" width="160" height="56" rx="8" fill="#1a1f2e" stroke="#F0B90B" stroke-width="1"/>
  <text x="52" y="526" fill="#F0B90B" font-size="18" font-weight="700">1</text>
  <text x="75" y="524" fill="#E5E7EB" font-size="11" font-weight="600">Register Keys</text>
  <text x="75" y="541" fill="#6B7280" font-size="9">One-time stealth key</text>
  <text x="75" y="553" fill="#6B7280" font-size="9">publish to registry</text>

  <rect x="220" y="505" width="160" height="56" rx="8" fill="#1a1f2e" stroke="#F0B90B" stroke-width="1"/>
  <text x="232" y="526" fill="#F0B90B" font-size="18" font-weight="700">2</text>
  <text x="255" y="524" fill="#E5E7EB" font-size="11" font-weight="600">Send BNB</text>
  <text x="255" y="541" fill="#6B7280" font-size="9">ECDH derive stealth addr</text>
  <text x="255" y="553" fill="#6B7280" font-size="9">Deposit to Privacy Vault</text>

  <rect x="400" y="505" width="160" height="56" rx="8" fill="#1a1f2e" stroke="#F0B90B" stroke-width="1"/>
  <text x="412" y="526" fill="#F0B90B" font-size="18" font-weight="700">3</text>
  <text x="435" y="524" fill="#E5E7EB" font-size="11" font-weight="600">Scan Payments</text>
  <text x="435" y="541" fill="#6B7280" font-size="9">Decrypt announcements</text>
  <text x="435" y="553" fill="#6B7280" font-size="9">with viewing key</text>

  <rect x="580" y="505" width="160" height="56" rx="8" fill="#1a1f2e" stroke="#F0B90B" stroke-width="1"/>
  <text x="592" y="526" fill="#F0B90B" font-size="18" font-weight="700">4</text>
  <text x="615" y="524" fill="#E5E7EB" font-size="11" font-weight="600">Withdraw (Gasless)</text>
  <text x="615" y="541" fill="#6B7280" font-size="9">ERC-4337 UserOp</text>
  <text x="615" y="553" fill="#6B7280" font-size="9">Paymaster pays gas</text>

  <rect x="760" y="505" width="160" height="56" rx="8" fill="#1a1f2e" stroke="#F0B90B" stroke-width="1"/>
  <text x="772" y="526" fill="#F0B90B" font-size="18" font-weight="700">5</text>
  <text x="795" y="524" fill="#E5E7EB" font-size="11" font-weight="600">Funds Received</text>
  <text x="795" y="541" fill="#6B7280" font-size="9">BNB in recipient wallet</text>
  <text x="795" y="553" fill="#6B7280" font-size="9">Zero on-chain link</text>

  <!-- Step arrows -->
  <line x1="200" y1="533" x2="220" y2="533" stroke="#F0B90B" stroke-width="1.2"/>
  <polygon points="220,533 214,529 214,537" fill="#F0B90B"/>
  <line x1="380" y1="533" x2="400" y2="533" stroke="#F0B90B" stroke-width="1.2"/>
  <polygon points="400,533 394,529 394,537" fill="#F0B90B"/>
  <line x1="560" y1="533" x2="580" y2="533" stroke="#F0B90B" stroke-width="1.2"/>
  <polygon points="580,533 574,529 574,537" fill="#F0B90B"/>
  <line x1="740" y1="533" x2="760" y2="533" stroke="#F0B90B" stroke-width="1.2"/>
  <polygon points="760,533 754,529 754,537" fill="#F0B90B"/>

  <!-- Legend -->
  <text x="32" y="595" fill="#6B7280" font-size="9">
    <tspan fill="#3B82F6"> </tspan> Smart Contracts (BSC)
    <tspan dx="16" fill="#10B981"> </tspan> Relayer (off-chain)
    <tspan dx="16" fill="#8B5CF6"> </tspan> Client (SDK + Frontend)
    <tspan dx="16" fill="#F0B90B"> </tspan> User / Workflow
  </text>
</svg>
